---
title:  "수학 - 행렬 개요!"

read_time: false
share: false
author_profile: false
toc: true
toc_sticky: true
# classes: wide

categories:
  - math
---


## 백터

백터는 n차원 좌표에서의 0점에서 x, y... 좌표까지의 숫자의 나열이다.
주로 2차원 x, y 2개 숫자와 화살표를 사용해 사용하지만 백터의 정의는 숫자의 나열이다.  

### 내적 (內積 inner product, dot product, scalar product)

> 內積: 안으로 쌓다  

내적을 기하학적으로 표기하면 아래 그림과 같다.

![1]( /assets/math/matrix/vector1.png)

- 벡터 두 개를 하나의 스칼라 값으로 변환시키는
- 한 벡터의 방향으로 나머지 하나를 projection(투영) 시키는  

두 벡터의 각 성분끼리의 곱의 합이다.  

$$
\vec{a} \cdot \vec{b} = 
|\vec{a}|cos\theta |\vec{b}| =
a_1b_1 + a_2b_2
$$

> 내적은 dot product 라 하기도 함

$\cos$ 공식을 사용해 아래처럼 증명

$$ \begin{aligned}  
\vec{a} \cdot \vec{b} &= |\vec{a}| \times |\vec{b}| \times \cos\theta \\ 
&= \sqrt{a_1^2 + a_2^2} \times \sqrt{b_1^2 + b_2^2} \times \frac{a_1b_1+a_2b_2}{\sqrt{a_1^2 + a_2^2} \times \sqrt{b_1^2 + b_2^2}} \\ 
&= a_1b_1+a_2b_2
\end{aligned}
$$

> 삼차원 좌표계에서도 내적을 구하는 공식은 똑같다.
$ \vec{a} \cdot \vec{b} \cdot \vec{c}=  a_1b_1 + a_2b_2 + a_3b_ 3$

내적은 유사도를 구하는 문제에서 많이 쓰이는데 $\vec{a}$ 와 $\vec{b}$ 의 내적값이 두 벡터의 스칼라와 차이가 많이 없다면, 두 벡터는 서로 유사하다고 할 수 있다.   


### 외적 (外積 outer product, cross product)

외적을 기하학적으로 표기하면 아래 그림과 같다.

![3]( /assets/math/matrix/vector3.png)

$$
\vec{a} \times \vec{b} = 
|\vec{a}| |\vec{b}| \sin\theta
$$


외적은 3차원 공간에서 두 백터가 이루는 **평행사변형의 면적의 크기만큼 수직되는 방향으로 쏘는 또다른 백터(법선)** 를 구하는 것이다.  

3차원 좌표계에서 외적을 구하려면 행렬식이 필요하다.  

$$
\vec{a} \times \vec{b} = \det(
\begin{bmatrix}
\vec{i} & \vec{j} & \vec{k} \\
a_1 & a_2 & a_3 \\
b_1 & b_2 & b_3 \\
\end{bmatrix})
$$
$$
= (a_2b_3 - a_3b_2, a_3b_1 - a_1b_3, a_1b_2 - a_2b_1)
$$

내적과 외적은 이름만 비슷할 뿐 서로 관련이 없다.  
외적은 기하문제에서 주로 사용된다.  


## 행렬 개요

행렬: 수나 문자를 직사각형으로 나열한것

$$
\begin{pmatrix}
1 & 3 & 4 \\
-1 & 0 & 5
\end{pmatrix}
$$

2행 3열을 가진 행렬
인덱스로 표현은 아래와 같이 한다.  

$$
\begin{pmatrix}
a_{11} & a_{12} & a_{13} \\
a_{21} & a_{22} & a_{23}
\end{pmatrix}
$$

### 전치행렬

$A$의 전치행렬 $A^T$

$$
A = \begin{pmatrix}
1 & 3 & 4 \\
-1 & 0 & 5
\end{pmatrix}
$$

$$
A^T = \begin{pmatrix}
1 & -1 \\
3 & 0 \\
4 & 5
\end{pmatrix}
$$

### 대칭행렬 

$A^T = A$ 인 행렬 

$$
A = \begin{pmatrix} 1 & 3 \\ 3 & a \end{pmatrix}
A^T = \begin{pmatrix} 1 & 3 \\ 3 & a \end{pmatrix} 
$$

$$
A = \begin{pmatrix}
1 & 3 & 7 \\
3 & 0 & -1 \\
7 & -1 & 1
\end{pmatrix} 
A^T = \begin{pmatrix}
1 & 3 & 7 \\
3 & 0 & -1 \\
7 & -1  & 1
\end{pmatrix} 
$$

대각으로 대칭되는 것. 그렇기에 정사각형 형식의 행렬이다.

### 대각행렬

대각성분 외의 모든 성분이 0 인 행렬, 기호는 D 를 사용 

$$
D= \begin{pmatrix}
1 & 0 & 0 \\
0 & 2 & 0 \\
0 & 0 & 3 \\
\end{pmatrix} 
$$

### 단위행렬

대각성분이 1이고 그외는 모두 0인 행렬, 행렬에서 숫자 1과 같은 역할, 기호로 I 를 사용  

$$
I = \begin{pmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1 \\
\end{pmatrix} 
$$


행렬 $A$가 있을때 **영행렬**과 더하거나 **단위행렬**과 곱하면 그대로이다.  

$A \cdot I = A$

> 대각행렬과 단위행렬은 정사각행렬.  

### 직교행렬 (Orthogonal Matrix)

> <https://www.youtube.com/watch?v=lICAZ9Vqlq4>

선형대수학에서 직교행렬(Orthogonal Matrix)은 행벡터와 열벡터가 **유클리드 공간의 정규 직교 기저**를 이루는 실수 행렬이다.

$ A A^T = A^T A = I $ 

위 조건을 만족하는 행렬이다.  

**유클리드 공간의 정규 직교**란 내적이 0임을 뜻한다.  

다음과 같은 벡터 $\vec{u}, \vec{v}$ 의 내적값  

$\vec{u} = \begin{bmatrix} u_1 & u_2 & u_3 & \end{bmatrix}, 
 \vec{v} = \begin{bmatrix} v_1 & v_2 & v_3 & \end{bmatrix}$

$ \vec{u} \cdot \vec{v} = u_1 v_1 +  u_2 v_2 + u_3 v_3 $

이 내적값이 0이면 직교한다 볼 수 있다.  

백터가 아닌 1x3, 3x1 행렬간 곱으로도 나타낼 수 있는데  

$ \vec{u} \vec{v}^T = u_1 v_1 + u_2 v_2 + u_3 v_3 $

그렇다면 두 행렬은 **유클리드 공간의 정규 직교 기저**를 이루는 행렬이라 할 수 있다.  

벡터 $\vec{u}, \vec{v}, \vec{w}$ 로 이루어진 행렬 $A$ 가 있다 하자  

$$
A = \begin{bmatrix}
    \cdots & \vec{u} & \cdots \\
    \cdots & \vec{v} & \cdots \\
    \cdots & \vec{w} & \cdots
\end{bmatrix},
A^T = \begin{bmatrix}
    \vdots & \vdots  & \vdots \\
    \vec{u}^T & \vec{v}^T & \vec{w}^T \\
    \vdots & \vdots  & \vdots
\end{bmatrix}
$$

이 둘을 행렬의 곱으로 연산한 결과가 **내적은 0, norm 은 1이 되어야 한다는 뜻**이다.  

$$
AA^T = \begin{bmatrix}
    \vec{u}\vec{u}^T & \vec{u}\vec{v}^T & \vec{u}\vec{w}^T \\
    \vec{v}\vec{u}^T & \vec{v}\vec{v}^T & \vec{v}\vec{u}^T \\
    \vec{w}\vec{u}^T & \vec{w}\vec{v}^T & \vec{w}\vec{w}^T
\end{bmatrix} = I \\ \ \\
\|\vec{u}\| = \|\vec{v}\| = \|\vec{w}\| = 1
$$

### 행렬간 연산 법칙

### 사칙연산

![1](/assets/math/matrix/matrix1.png)

덧셈은 더할 두 행렬의 행과 열의 개수가 같아야 하고
곱셈은 곱할 두 행렬의 **행은 열**과, **열은 행**과 같아야한다. `axn` 행렬이라면 `nxb` 행렬과만 곱할 수 있음    

$$
\begin{bmatrix} 1 & 2 \\ 3 & 4 \end{bmatrix}
\begin{bmatrix} a & b \\ c & d \end{bmatrix} = 
\begin{bmatrix}
  1 \cdot a +2\cdot c & 1\cdot b + 2\cdot d \\ 
  3\cdot a + 4\cdot c & 3\cdot b + 4 \cdot d
\end{bmatrix}
$$

행과 열의 수가 다를경우 덧셈, 곱셈을 할 수 없다.  

행렬에는 나누기는 존재하지 않는다.

## 행렬식(determinant)

> 출처: <https://www.youtube.com/watch?v=fuVMiyahzH4>  
> **Determinants**: 행렬을 판별한다는 뜻  

행렬식은 정사각 행렬에서만 정의된다.  

$$
A=\begin{bmatrix} 
a&b \\ 
c&d 
\end{bmatrix}
$$

2차 정사각형 행렬의 행렬식은 팽형사변형의 넓이가 된다.  
아래과 같은 기호로 사용 

$$
det(A) = |A| = ad−bc
$$


### 행렬식 계산 - 대각선 법칙  

![1](/assets/math/matrix/matrix6.png)

### 행렬식 계산 - 여인수(confactor) 전개  

n x n 행렬이 있을때
제외할 행 혹을 열을 하나 정하고 0 ~ n 까지의 열 혹은 행을 제외하여 n개의 새로운 행렬을 만든 수 전개하여 구한다.   

![1](/assets/math/matrix/matrix7.png)

위 그림에선 `1행1열, 1행2열, 1행3열`을 제외한 각각의 행렬을 구해 계산하였지만
반대로 열을 고정하여 `2열1행, 2열2행, 2열3행` 을 제외한 각각의 행렬을 구해 행렬식을 계산해도 같은값이 나온다.  

제외되어 나온 행렬의 행렬식을 **소행렬식**이라 하며 $A_{ij}$ 기호로 표기한다.
(i행 j열이 제외된 행렬식 )

소행렬식 앞의 +. - 부호는 -1 에 행과 열을 더한 값을 지수에 적용

(부호 + 소행렬식) 까지가 여인수(Cofactor) 이라 하며 아래 식으로 표기  

$C_{ij} = (-1)^{i+j}A_{ij}$ 

그래서 아래식으로 다시 표현할 수 있다.  

$det(A) = a_{11} C_{11} + a_{12} C_{12} + a_{13} C_{13}$  

여인수 전개는 0이 많이 포함된 행이나 열을 사용해 행렬식을 구하면 편하다.  


### 행렬식의 기하학적 의미

사실 행렬은 열백터 혹은 행백터로 이루어진 **백터의 집합**이라 할 수 있다.  

행백터 $v1=\begin{bmatrix} a&b \end{bmatrix}$

행백터 $v2=\begin{bmatrix} c&d \end{bmatrix}$

$v1$의 열백터 $v3=\begin{bmatrix} a\\b \end{bmatrix}$

$v2$의 열백터 $v4=\begin{bmatrix} c\\d \end{bmatrix}$


행백터의 집합$A=\begin{bmatrix} a&b \\ c&d \end{bmatrix}$

열백터의 집합$A^T=\begin{bmatrix} a&c \\ b&d \end{bmatrix}$

행백터이건 열백터이건 두 백터를 사용해 행력식을 구해봤자 같은 값의 평행사변형 넓이가 나온다.
$|A| = |A^T|$   


![1](/assets/math/matrix/matrix4.png)

3차 정사각형 행렬의 행렬식은 평행육면체의 부피가 된다.  

![1](/assets/math/matrix/matrix5.png)

![1](/assets/math/matrix/matrix10.png)

### 행렬식과 기본행 연산

행렬식과 기본행 연산의 관계를 알아보자.  
행간 교환, 곱하기 에 의해 행렬식이 어떻게 변하는지에 대해 알아보자.  

![1](/assets/math/matrix/matrix8.png)

다음에 나올 가우스 소거법을 위해 3 규칙이 매우 중요하다.

2법칙의 왜 두 행을 교환하면 부호가 반대되는가?  

![1](/assets/math/matrix/matrix9.png)

기하학적으로 보면 1행의 각도가 2행의 각도보다 크다면 `-` 반대라면 `+` 이다.  

## 행 사다리꼴 

> 행 사다리꼴(row echelon form matrix)  

- 각 행의 0을 제외한 첫번째 요소는 무조건 1이어야 한다(**선두성분**이라함)
- 0으로만 이루어진 행이 있을경우 가장 밑에 있어야 한다.  
- 선두성분은 아래백터의 순서보다 항상 먼저있어야 한다.  

$$
\begin{bmatrix} 1 & 4 & 3 & 7 \\ 0 & 1 & 0 & 2 \\ 0 & 0 & 1 & 4 \end{bmatrix}
\begin{bmatrix} 1 & 1 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 0 \end{bmatrix}
\begin{bmatrix} 0 & 1 & 2 & 6 & 0 \\ 0 & 0 & 1 & 1 & 0 \\ 0 & 0 & 0 & 0 & 1 \end{bmatrix}
$$

### 기약행 사다리꼴  

> 기약 행 사다리꼴(reduced row echelon form matrix) 

행 사다리꼴에 아래 조건이 추가된다.  

- 열로 보았을때 1이 있다면 나머지 열의 요소는 모두 0 이어야 한다.

$$
\begin{bmatrix} 1 & 0 & 0 & 7 \\ 0 & 1 & 0 & 2 \\ 0 & 0 & 1 & 4 \end{bmatrix}
\begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 0 \end{bmatrix}
\begin{bmatrix} 0 & 1 & 0 & 6 & 0 \\ 0 & 0 & 1 & 1 & 0 \\ 0 & 0 & 0 & 0 & 1 \end{bmatrix}
$$

## 역행렬

자연수 $n = 3$ 의 역수 $\frac{1}{3}$  
역수의 의미는 $n * n_{의 역수} = 1$ 인것  

행렬 A 의 역수 역행렬 $A^{-1}$  
역행렬의 의미는 $ A \cdot A^{-1} = A^{-1} \cdot A = I$  

> 행렬식이 0일경우 역행렬은 존재하지 않는다.  

### 가우스 소거법으로 역행렬 구하기

2 x 2 행렬식에서 아래와 같이 정의가 되어 있다.  

$$
A=\begin{bmatrix} 1&2 \\ 3&4 \end{bmatrix},
A^{-1}=\begin{bmatrix} a&b \\ c&d \end{bmatrix},
I=\begin{bmatrix} 1&0 \\ 0&1 \end{bmatrix}
$$

임시로 A 의 역행렬을 $a,b,c,d$ 를 사용해 표기  

행렬간 곱셈에 따라 다음 식이 도출될 것이다.  
$$ 
1 \times a + 2 \times c = 1 \\
1 \times b + 2 \times d = 0 \\
3 \times a + 4 \times c = 0 \\
3 \times b + 4 \times d = 1 
$$

위 4개 식을 사용해 $a,b,c,d$ 를 구하면 역행렬을 정의할 수 있다.  


좀더 쉽게 역행렬을 계산하기 위한 방법으로  
행렬를 사용해서 연립일차 방정식의 해를 구할 수 있는데  

행렬의 여러 값을 소거해가면서 기약행사다리꼴로 만들어  
연립방정식의 해를 구하기 위한 방법을 가우스 소거법이라 한다.  

단위행렬이 기약행사다리꼴임으로 단위행렬을 만들면 된다.  

![1](/assets/math/matrix/matrix15.png)

모든 열에 1이 하나면 존재하도록 소거해나간다.  

![1](/assets/math/matrix/matrix11.png)

![1](/assets/math/matrix/matrix12.png)

가우스 소거법으로 **기약 행 사다리꼴이 구해지지 않는경우 역행렬이 존재하지 않는다.**  

![1](/assets/math/matrix/matrix13.png)

마지막의 경우 역행렬이 존재하지 않는다.

### 행렬식으로 역행렬 구하기  

위에서 여인수행렬로 행렬식을 구할 때  

$A$ 행렬에서 i행 j열이 제외된 소행렬의 행렬식 $A_{ij}$ 
그리고 해당 소행렬의 행렬식을 기반으로 행렬식을 구했었다.  


수반행렬 여인수들로 구성된 행렬로 `adjoint matrix` 라 부르며 약자로 $adj$ 를 사용한다.  
> 여인수행렬이라고도 한다.  

$$
A_{adj} = \begin{bmatrix} 
    C_{11} & C_{12} & C_{13} \\ 
    C_{21} & C_{22} & C_{23} \\ 
    C_{31} & C_{32} & C_{33}  
\end{bmatrix} ^ T = \begin{bmatrix} 
    C_{11} & C_{21} & C_{31} \\ 
    C_{12} & C_{22} & C_{32} \\ 
    C_{13} & C_{23} & C_{33}  
\end{bmatrix}
$$

전치까지 취해주어야 수반행렬이라 한다.  
 
행렬 $A$ 와 수반행렬 $A_{adj}$ 를 서로 곱하면  
대각성분은 행렬식이 되고 그외값은 0이 된다.  

> 0이 되는 이유 <https://www.youtube.com/watch?v=sWqhINQWSI4>
> 전치를 취한 이유

$$
A \cdot A_{adj} = 
\begin{bmatrix} 
    a_{11} & a_{12} & a_{13} \\ 
    a_{21} & a_{22} & a_{23} \\ 
    a_{31} & a_{32} & a_{33}  
\end{bmatrix} \cdot
\begin{bmatrix} 
    C_{11} & C_{12} & C_{13} \\ 
    C_{21} & C_{22} & C_{23} \\ 
    C_{31} & C_{32} & C_{33}  
\end{bmatrix}^T = 
\begin{bmatrix} 
    |A| & 0 & 0 \\ 
    0 & |A| & 0 \\ 
    0 & 0 & |A| 
\end{bmatrix}^T \\ \ \\
A \cdot A_{adj} = |A| \cdot I
$$

그렇다면 위 식의 양변에 $|A|$ 를 나누면 우변이 단위행렬이니  
아래처럼 역행렬을 정의할 수 있다.  

$$ A \cdot \frac{1}{|A|}A_{adj} = I \\ \ \\
A^{-1} = \frac{1}{|A|}A_{adj} $$


## 대각화


행렬 A 의 대각화 가능성 , 아래 공식을 사용해 알 수 있다.  
$P^{-1} AP=D$

P: 역행렬 존재하는 행렬
D: 대각행렬

위 공식에 해당하는 P와 D가 있다면 대각화 가능하다

대각화 공식은 위 공식에 양변 앞 뒤에 $P, P^{-1}$ 를 곱하면 단위행렬로 바뀌면서 아래같은 공식으로 변경된다
$A = PDP^{-1}$

대각화를 하는 제일큰 이유는 **행렬의 거듭제곱이 매우 편해진다**.


### 대각행렬의 특징

$$
D= \begin{pmatrix}
 2 & 0 \\
 0 & 3 \\
\end{pmatrix},
D^2 = \begin{pmatrix}
 4 & 0 \\
 0 & 9 \\
\end{pmatrix}
$$

원래 행렬의 거듭제곱은 굉장히 복잡한데  
대각행렬로 변환한 후 원복하면 동일한 값이 나온다.  

$A = PDP^{-1}$
$A^2 = (PDP^{-1})(PDP^{-1}) = PD^2P^{-1}$
$A^3 = (PD^2P^{-1})(PDP^{-1}) = PD^3P^{-1}$
$A^{100} = (PD^{99}P^{-1})(PDP^{-1}) = PD^{100}P^{-1}$

일반 행렬도 대각화를 통해 쉽게 구할 수 있다.  

## Norm (Euclideam Norm)

백터에서의 Norm은 길이를 뜻하고
행렬에서의 Norm은 수학적 크기를 뜻한다.

백터에서 Norm은 아래와 같이 표현
> 백터 역시 n 차원일 수 있음으로 a~z 까지의 값이 있을 수 있음.  
> 일반적으로 2차원으로 표시함으로 아래 식을 자주 사용
 
$$
\|v\| = \sqrt{a^2+b^2}
$$

행렬에서의 Norm은 아래와 같이 표현  
A행령의 크기가 $n \times m$ 일 때  

$$
\|A\|_e = \sqrt{\sum_{i=1}^n\sum_{i=j}^m a_{i,j}^2}
$$

모든 워소의 제곱을 더한하고 루트를 취한값이다.  
기호 `e`는 `Euclideam` 의 약자이며
`Euclideam Norm` 이라고도 한다. 

### P Norm

2제곱이 아닌 p제곱후 p제곱근을 취한값

$$
\|A\|_e = \sqrt[p]{\sum_{i=1}^n\sum_{i=j}^m a_{i,j}^p}
$$

`p=1` - 절대값의 합
`p=2` - `Euclideam Norm` 
`p=무한대` - 요소중 가장 큰값에 가까워진다.

### 열합 Norm, 행합 Norm

$$
A = \begin{pmatrix}
a_{11} & a_{12} & a_{13} \\
a_{21} & a_{22} & a_{23} \\
a_{31} & a_{32} & a_{33}
\end{pmatrix}
$$

위와같은 행렬 A 가 있을때 
Norm에선 행렬의 행 또는 열을 가지고 값을 표현할 수 있는 수식이 있다.

$$
\|A\|_1 = \max_{1\le j \le n}\sum_{i=1}^n|a_{i,j}|
$$

$$
a=a_{11} + a_{21} + a_{31} \\
b=a_{12} + a_{22} + a_{32} \\
c=a_{13} + a_{23} + a_{33} \\
$$

$a,b,c$ 중 **가장 큰 값을 열합Norm의 값으로 표기**한다.  

행합Norm의 식은 아래처럼 표기

$$
\|A\|_\infin = \max_{1\le i \le n}\sum_{i=1}^n|a_{i,j}|
$$

$$
a=a_{11} + a_{12} + a_{13} \\
b=a_{21} + a_{22} + a_{23} \\
c=a_{31} + a_{32} + a_{33} \\
$$

$a,b,c$ 중 **가장 큰 값을 행합Norm의 값으로 표기**한다.  
