---
title:  "java IO!"
read_time: false
share: false
toc: true
toc_sticky: true
author_profile: false

# classes: wide

categories:
  - java
---

# Java ì…ì¶œë ¥  

`IO`|`NIO`
|---|---|
ìŠ¤íŠ¸ë¦¼ë°©ì‹ Non-buffer | ë²„í¼ë°©ì‹
ë™ê¸°ë°©ì‹ | ë™ê¸°/ë¹„ë™ê¸° ëª¨ë‘ ì§€ì›
ë¸”ë¡œí‚¹ ë°©ì‹ | ë¸”ë¡í‚¹/ë…¼ë¸”ë¡í‚¹ ëª¨ë‘ ì§€ì›


IOëŠ” ìŠ¤íŠ¸ë¦¼(`Stream`)ì´ë¼ëŠ” **ë‹¨ë°©í–¥ í†µë¡œ**ë¥¼ ìƒì„±í•´ì„œ ì™¸ë¶€ ë°ì´í„°ì™€ í†µì‹ , ì—°ê²° í´ë¼ì´ì–¸íŠ¸ ìˆ˜ê°€ ì ê³  ëŒ€ìš©ëŸ‰, ìˆœì°¨ì²˜ë¦¬ì— ì í•©  

NIOëŠ” ì±„ë„(`Channel`)ì´ë¼ëŠ” **ì–‘ë°©í–¥ í†µë¡œ**ë¥¼ ìƒì„±í•´ì„œ ì™¸ë¶€ ë°ì´í„°ì™€ í†µì‹ , ì—°ê²° í´ë¼ì´ì–¸íŠ¸ ìˆ˜ê°€ ë§ê³  ì†Œê·œëª¨ ë¹ ë¥¸ ëŒ€ì‘ì— ì í•©    

![javaio1](/assets/java/java/javaio1.png)  

> https://www.slideshare.net/kslisenko/networking-in-java-with-nio-and-netty-76583794

## java io

`java IO` ì—ì„  ì…ë ¥ ì¶œë ¥ê³¼ì •ì´ ê°ê°ì˜ ìŠ¤íŠ¸ë¦¼(`stream`)ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.  
ìŠ¤íŠ¸ë¦¼ì€ í•­ìƒ ë‹¨ë°©í–¥ìœ¼ë¡œ ì´ë£¨ì–´ì§€ê¸°ì— ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°„ í†µì‹ ì„ ìœ„í•´ ì…ë ¥ìŠ¤íŠ¸ë¦¼, ì¶œë ¥ìŠ¤íŠ¸ë¦¼ 2ê°€ì§€ ìŠ¤íŠ¸ë¦¼ì´ í•„ìš”í•˜ë‹¤.  

`java io` ì˜ íŠ¹ì§•ì€ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡ë°›ê¸°ì— ë²„í¼ ì—­í• ì„ í•˜ëŠ” ì €ì¥ì†Œì— ì €ì¥í•´ë‘ì§€ ì•Šìœ¼ë©´ ë°ì´í„° ì¬í™œìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.  

![javaio2](/assets/java/java/javaio2.png)  

ë˜í•œ `send(), read(), write(), recv(), recvfrom()` ë“±ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ `ì»¤ë„ ë²„í¼ <-> ìœ ì €ë²„í¼` ë°ì´í„° ì ‘ê·¼, ì½ê¸°, ì“°ê¸°ë¥¼ ì§„í–‰í•˜ë©´ ì‹œìŠ¤í…œì½œì´ ë°œìƒí•˜ë©°  
í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë™ì•ˆ ìŠ¤ë ˆë“œëŠ” ë¸”ë¡œí‚¹ë˜ì–´ ë”ì´ìƒì˜ ì½”ë“œì§„í–‰ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.  

í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì´ ë§ìœ¼ë©´ ë¹ ë¥¸ ëŒ€ì‘ì„ ìœ„í•´ ë” ë§ì€ ìŠ¤ë ˆë“œê°€ ìƒì„±ë˜ê³  ì‹œìŠ¤í…œ ë¶€í•˜ê°€ ê±¸ë¦´ í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤.  
í•˜ì§€ë§Œ ì ì€ ì—°ê²°ì˜ ê²½ìš° ìµœì í™”ëœ ë³‘ë ¬ ì—°ì‚° ì§„í–‰ì´ ê°€ëŠ¥í•˜ê¸°ì— ë¹ ë¥¸ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.  

### ì…ë ¥ ìŠ¤íŠ¸ë¦½  

| ë¬¸ì ìŠ¤íŠ¸ë¦¼ í´ë˜ìŠ¤ | ì„¤ëª… | ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ í´ë˜ìŠ¤ |
|---|---|---|
`Reader` | ë¬¸ì/ë°”ì´íŠ¸ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì„ ìœ„í•œ ì¶”ìƒí´ë˜ìŠ¤| `InputStream`  
`BufferedReader` | ë¬¸ì/ë°”ì´íŠ¸ ë²„í¼ ì…ë ¥, ë¼ì¸ í•´ì„| `BufferedInputStream`  
`LineNumberReader` | ë¬¸ì/ë°”ì´íŠ¸ ì…ë ¥ ì‹œ, ë¼ì¸ ë²ˆí˜¸ë¥¼ ìœ ì§€| `LineNumberInputStream`  
`CharArrayReader` | ë¬¸ì/ë°”ì´íŠ¸ ë°°ì—´ì—ì„œ ì½ì–´ë“¤ì„| `ByteArrayInputStream`  
`InputStreamReader` | ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ë¬¸ì ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜| `ì—†ìŒ`  
`FileReader` | íŒŒì¼ì—ì„œ ë°”ì´íŠ¸ë¡œ ì½ì–´ë“¤ì–´ ë¬¸ì/ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜| `FileInputStream`  
`FilterReader` | í•„í„°ì ìš© ë¬¸ì/ë°”ì´íŠ¸ ì…ë ¥ì„ ìœ„í•œ ì¶”ìƒí´ë˜ìŠ¤| `FilterInputStream`  
`PushBackReader` | ì½ì–´ë“¤ì¸ ë¬¸ì/ë°”ì´íŠ¸ë¥¼ ë˜ëŒë¦¼(Push back)| `PushbackInputStream`  
`PipedReader` | `PipedWriter`, `PipedOutputStream` ì—ì„œ ì½ì–´ë“¤ì„| `PipedInputStream`  
`StringReader` | ë¬¸ìì—´ì—ì„œ ì½ì–´ë“¤ì„| `SgringBUfferedInputStream`  

### ì¶œë ¥ ìŠ¤íŠ¸ë¦¼  

| ë¬¸ì ìŠ¤íŠ¸ë¦¼ í´ë˜ìŠ¤ | ì„¤ëª… | ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ í´ë˜ìŠ¤ |
|---|---|---|
`Writer`| ë¬¸ì ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì„ ìœ„í•œ ì¶”ìƒí´ë˜ìŠ¤| `OutputStream`   
`BufferedWriter`| ë¬¸ì/ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì— ë²„í¼ì¶œë ¥, | `BufferedOutputStream`   
`CharArrayWriter`| ë¬¸ì/ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì— ë¬¸ì/ë°”ì´íŠ¸ ë°°ì—´ ì¶œë ¥| `ByteArrayOutputStream`   
`FilterWriter`| í•„í„°ì ìš© ë¬¸ì/ë°”ì´íŠ¸ ì¶œë ¥ì„ ìœ„í•œ ì¶”ìƒí´ë˜ìŠ¤| `FilterOuputStream`   
`OutputStreamWriter`| ë¬¸ì ìŠ¤íŠ¸ë¦¼ì„ ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜| `ì—†ìŒ`   
`FileWriter`| ë¬¸ì/ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ë°”ì´íŠ¸ íŒŒì¼ë¡œ ë³€í™˜| `FileOutputStream`   
`PrintWriter`| `Writer/Stream` ê°’ê³¼ ê°ì²´ë¥¼ í”„ë¦°íŠ¸| `PrintStream`   
`PipedWriter`| `PipedReader/PipedOutputStream` ì— ì¶œë ¥| `PipedOutputStream`   
`ì—†ìŒ`| ìë°” ê¸°ë³¸í˜• ë°ì´í„°ë¥¼ ì½ì„ ë•Œ ìœ ìš©| `DataInputStream`   
`ì—†ìŒ`| ìë°” ê¸°ë³¸í˜• ë°ì´í„°ë¥¼ ì¶œë ¥í•  ë•Œ ìœ ìš©| `DataOutputStream`   
`StringWriter`| ë¬¸ìì—´ ì¶œë ¥| `ì—†ìŒ`   

ë°”ì´íŠ¸ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ì€ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ë•Œ ê¸°ë³¸ë‹¨ìœ„ê°€ `1byte`. ë°”ì´íŠ¸, ë°”ì´íŠ¸ ë°°ì—´, ì •ìˆ˜ë¥¼ ì£¼ê³ ë°›ê¸° í¸í•˜ê²Œ êµ¬ì„±ë¨.  
ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ ìµœìƒìœ„ ë¶€ëª¨ëŠ” `InputStream`, `OutputStream` ì´ë©° ë°”ì´íŠ¸ ê¸°ë°˜ í•˜ìœ„ ê°ì²´ë“¤ë„ í•´ë‹¹ suffix ë¥¼ ê°€ì§„ë‹¤.  

 
ë¬¸ì ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ì€ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ë•Œ ê¸°ë³¸ë‹¨ìœ„ê°€ `2byte`ì´ë‹¤. ë¬¸ì, ë¬¸ìì—´, ë¬¸ìë°°ì—´ì„ ì£¼ê³ ë°›ê¸° í¸í•˜ê²Œ êµ¬ì„±ë¨.  
ë¬¸ì ìŠ¤íŠ¸ë¦¼ ìµœìƒìœ„ ë¶€ëª¨ëŠ” `Reader`, `Wirter` ì´ë©° ë¬¸ì ê¸°ë°˜ í•˜ìœ„ ê°ì²´ë“¤ë„ í•´ë‹¹ suffix ë¥¼ ê°€ì§„ë‹¤.    

ë³´í†µ í…ìŠ¤íŠ¸íŒŒì¼ì€ ë¬¸ìê°€ ë“¤ì–´ê°€ìˆì–´ ë¬¸ì ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ,  
ì‹¤í–‰íŒŒì¼ì˜ ê²½ìš° ë¬¸ìê°€ ì•„ë‹Œ byteê°€ ë“¤ì–´ìˆì–´ ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ,    
ì´ë¯¸ì§€ë‚˜ ë™ì˜ìƒë„ ë§ˆì°¬ê°€ì§€ë¡œ ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì½ì–´ì™€ì•¼í•œë‹¤.

#### FileInputStream

`InputStream` í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” íŒŒì¼ ì…ë ¥ í´ë˜ìŠ¤

```java
public class FileInputStream extends InputStream {...}
```

íŒŒì¼ ì…ë ¥ì‹œ ì‚¬ìš©í•˜ëŠ” ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì‚¬ì§„, ë™ì˜ìƒ ë“±ì˜ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ìœ„ì˜ ìŠ¤íŠ¸ë¦¼ ê°ì²´ë¥¼ ì‚¬ìš©í•´ì„œ IO í•  ìˆ˜ ìˆë‹¤.  

```java
String path = "ìë°”IO.PNG"; //ì‚¬ì§„ íŒŒì¼
try(FileInputStream fs = new FileInputStream(path)) {
	int b=0;
	while ((b=fs.read())!= -1)
		System.out.println(b);
} catch (FileNotFoundException e) { 
	e.printStackTrace();
} catch (IOException e) {
	e.printStackTrace();
}
```

`FileInputStream` ì˜ `read`ëŠ” 3ê°œë¡œ ì˜¤ë²„ë¡œë”© ë˜ì–´ìˆë‹¤

1. `int read()` - `1byte`ì”© ì½ì–´ì„œ 0~255 10ì§„ìˆ˜ **intí˜•ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.**  
2. `int read(byte[] b)` - ë°°ì—´ í¬ê¸°ë§Œí¼ ì½ì–´ ë°°ì—´ì— ì €ì¥í•˜ê³  **ì½ì–´ë“¤ì¸ ë°”ì´íŠ¸ ê¸¸ì´ë¥¼ ë°˜í™˜í•œë‹¤.**  
3. `int read(byte[] b, int off, int len)` - `offset`, `len` ì„ ì‚¬ìš©í•´ ìœ„ì¹˜ì§€ì • ê°€ëŠ¥. **ì½ì€ ë°”ì´íŠ¸ ê¸¸ì´ë¥¼ ë°˜í™˜í•œë‹¤.**  

2ë²ˆì§¸ `read` ë¥¼ ì‚¬ìš©í•´ í•˜ë²ˆì— `1024byte` ì”© ì½ì–´ì˜¤ë©´ ë¹ ë¥¸ ì…ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ open íšŸìˆ˜ê°€ ì¤„ì–´ë“¤ë©´ì„œ ë¹ ë¥¸ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.  

```java
byte[] buffer = new byte[1024];
String path = "ìë°”IO.PNG";
try (FileInputStream fs = new FileInputStream(path))
{
	int n=0;
	while ((n = fs.read(buffer)) != -1)
		System.out.println(Arrays.toString(buffer));
} catch (FileNotFoundException e) {
	e.printStackTrace();
} catch (IOException e) {
	e.printStackTrace();
}
```

#### FileOuputStream

`OutputStream` í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” íŒŒì¼ ì…ì¶œë ¥ í´ë˜ìŠ¤
```java
public class FileOutputStream extends OutputStream {...}
```

íŒŒì¼ëª…ì„ ì¸ìë¡œ ë°›ëŠ” ìƒì„±ìëŠ” 2ì¢…ë¥˜ê°€ ìˆë‹¤.
```java
FileOutputStream(String name) // defualt append false
FileOutputStream(String name, boolean append) // true: ì´ì–´ì“°ê¸°, false: reset
```

ë¬¸ìì—´ì„ íŒŒì¼ì— ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ `msg.ini` íŒŒì¼ì— ì €ì¥  

```java
String message = "ì•ˆë…•í•˜ì„¸ìš”";
String path = "msg.ini";
byte[] buffer;
try (FileOutputStream fos = new FileOutputStream(path, true)) { 
	buffer = message.getBytes(); //ë¬¸ìì—´ì„ byteë°°ì—´ë¡œ ë³€í™˜
	fos.write(buffer);
} catch (IOException e) {
	e.printStackTrace();
}
```

`msg.ini` ì•ˆì—ëŠ” ì‹¤í–‰í• ë•Œë§ˆë‹¤ "ì•ˆë…•í•˜ì„¸ìš”"ê°€ ë“¤ì–´ê°„ë‹¤.  

ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ê³¼ ë°”ì´íŠ¸ ë°°ì—´ë¡œ ë¬¸ìì—´ ì €ì¥ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ë²ˆê±°ë¡­ë‹¤.  
`FileWriter`ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ì `2byte`ì”© ì…ë ¥í•  ìˆ˜ ìˆê¸°ë•Œë¬¸ì— `byte`ë°°ì—´ë¡œ ë³€ê²½í•  í•„ìš”ì—†ì´ ë°”ë¡œ ì…ë ¥ ê°€ëŠ¥í•˜ë‹¤.  

```java
String message = "ì•ˆë…•í•˜ì„¸ìš”";
String path = "msg.ini";
try (FileWriter fw = new FileWriter(path, true))
{
	fw.write(message);
} catch (IOException e) {
	e.printStackTrace();
}
```

ë¬¸ìì—´ì„ ì…ì¶œë ¥ í• ë•ŒëŠ” `FileReader/FileWriter`ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.  
ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ì…ì¶œë ¥ í• ë•ŒëŠ” `FileInputStream/FileOutputStream`ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ íŒŒì¼ì´ ê¹¨ì§„ë‹¤.  

### ë³´ì¡°ìŠ¤íŠ¸ë¦¼

íš¨ìœ¨ì„ ìœ„í•´ ì¼ì •ìˆ˜ì¤€ ëª¨ì•„ì„œ ì²˜ë¦¬, íŠ¹ì • ì‘ì—…ì„ ë³„ë„ë¡œ í•˜ê¸°ìœ„í•´ ë³´ì¡°ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•œë‹¤.  

ë°ì´í„°ë¥¼ ëª¨ì•˜ë‹¤ê°€ ì²˜ë¦¬í•˜ëŠ” ë²„í¼ê°€ ìˆëŠ” `BufferedReader, BufferedInputStream`  
**ë°”ì´íŠ¸ ë‹¨ìœ„**ë¡œ ì €ì¥í•˜ëŠ” `ByteArrayInputStream, ByteArrayOutputStream`
**ë°ì´í„° íƒ€ì… ë‹¨ìœ„**ë¡œ ì €ì¥í•˜ëŠ” `DataInputStream, DataOutputStream`  
**ê°ì²´ ë‹¨ìœ„**ë¡œ ì €ì¥í•˜ëŠ” `ObjectInputStream, ObjectOutputStream`  
ë“± ì´ ìˆë‹¤.

#### ë³´ì¡°ìŠ¤íŠ¸ë¦¼ - ByteArrayInputStream, ByteArrayOutputStream

ìŠ¤íŠ¸ë¦¼ì—ì„œ í•œë²ˆì— ëª¨ì•˜ë‹¤ ì…ì¶œë ¥ í•˜ëŠ” `read(byte[] b)`ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ íš¨ìœ¨ì ì´ê³  ì´ëŸ° **ë²„í¼ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ íƒ‘ì¬í•œ ë³´ì¡° ìŠ¤íŠ¸ë¦¼** ì´ ì¡´ì¬í•œë‹¤.  

ì…ì¶œë ¥ ëŒ€ìƒì´ ë©”ëª¨ë¦¬(ë°”ì´íŠ¸ ë°°ì—´) ì´ë¯€ë¡œ close ë¥¼ í•  í•„ìš”ì—†ë‹¤.  

```java
public class ByteArrayInputStream extends InputStream {
    // The buffer where data is stored.
    protected byte buf[];
    // The index of the next character
    protected int pos;
}

public class ByteArrayOutputStream extends OutputStream {
    // The buffer where data is stored.
    protected byte buf[];
    // The number of valid bytes in the buffer.
    protected int count;
}
```

ë°”ì´íŠ¸ ë°°ì—´ì„ `read`í•´ì„œ ì§€ì •í•œ bufferì— ì €ì¥.

```java
byte [] inSrc = {0,1,2,3,4,5,6,7,8,9};
byte[] temp = new byte[3];
ByteArrayInputStream bis = new ByteArrayInputStream(inSrc); // ìƒì„±ìì—ì„œ ì‚¬ìš©í•  ë²„í¼ë¥¼ ìš”êµ¬
while (bis.read(temp) > 0) {
    System.out.println(Arrays.toString(temp));
    // ë²„í¼ë¡œë¶€í„° read í•˜ê¸° ë•Œë¬¸ì— ì†ë„ê°€ ë¹ ë¥´ë‹¤.
    // [0, 1, 2]
    // [3, 4, 5]
    // [6, 7, 8]
    // [9, 7, 8]
}

ByteArrayOutputStream bos = new ByteArrayOutputStream(5); // default size 32
bos.write(inSrc, 0, 8); // 0 ~ 8 ê¹Œì§€ ë°ì´í„°ë¥¼ ë‚´ë¶€ buf ì— ì €ì¥
System.out.println(Arrays.toString(bos.toByteArray())); // [0, 1, 2, 3, 4, 5, 6, 7]
```

ìê¸° ë²„í¼ë³´ë‹¤ í° ë°°ì—´ì„ `write`í•  ê²½ìš° 2ë°°ì”©(left shift) ëŠ˜ë ¤ë‚˜ê°„ë‹¤.   

`writeTo` ë©”ì„œë“œë¥¼ í†µí•´ ì•„ë˜ì²˜ëŸ¼ íŒŒì¼ì— ì¶œë ¥í•  ìˆ˜ ë„ ìˆë‹¤.  

```java
File fin = new File("uml.png");
InputStream in = new FileInputStream(fin);
File fout = new File("uml_copy.png");
OutputStream out = new FileOutputStream(fout);
byte[] buff = new byte[8000];
int bytesRead = 0;
ByteArrayOutputStream bao = new ByteArrayOutputStream();
while ((bytesRead = in.read(buff)) != -1) {
    bao.write(buff, 0, bytesRead); // ë²„í¼ì— ì €ì¥
}
bao.writeTo(out);
```

ë„“ì€ í¬ê¸°ì˜ ë©”ëª¨ë¦¬ ë²„í¼ë¥¼ í™•ë³´í•´ë‘ê³  ì½ê³  ì“°ê¸° ë•Œë¬¸ì— ì†ë„ëŠ” ë¹ ë¥´ì§€ë§Œ ë§ì€ ë©”ëª¨ë¦¬ë¥¼ í•„ìš”ë¡œ í•œë‹¤.  

ë¬¸ìì—´ ì „ìš© ë³´ì¡° ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ `CharArrayReader`, `CharArrayWriter` ê°€ ìˆë‹¤.  

#### ë³´ì¡°ìŠ¤íŠ¸ë¦¼ - PrintWriter

```java
// ì“°ê¸°
String name = "ë°•ê¸¸ë™";
int kor = 54, mat = 35, eng = 89, tot = kor + mat + eng;
double avg = tot / 3.;
String gender = "ë‚¨ì";

String fileName = "./student.txt";
FileWriter fw = new FileWriter(fileName, true); // append true
PrintWriter pw = new PrintWriter(fw);
pw.printf("%s,%d,%d,%d,%d,%.2f,%b\n",
        name, kor, mat, eng, tot, avg, gender.equals("ë‚¨ì") ? true : false);
pw.close();
fw.close();
// student.txt íŒŒì¼ ìƒì„±, "ë°•ê¸¸ë™,54,35,89,178,59.33,true" ë¬¸ìì—´ ì €ì¥
```

```java
// ì½ê¸°
String name = null;
int kor, mat, eng, tot;
double avg;
String gender = null;
String fileName = ".\\src\\Student.txt";
FileReader fw = new FileReader(fileName); //appendê°€ trueì„ìœ¼ë¡œ ë®ì–´ì”Œìš°ëŠ”ê²Œ ì•„ë‹Œ ì¶”ê°€
Scanner sc = new Scanner(fw);
sc.useDelimiter("\\s*[,\\n]\\s*");
name = sc.next();
kor = sc.nextInt();
eng = sc.nextInt();
mat = sc.nextInt();
tot = sc.nextInt();
avg = sc.nextDouble();
gender = sc.nextBoolean()?"ë‚¨ì":"ì—¬ì";
System.out.printf("%s,%d,%d,%d,%d,%.2f,%s\n", 
		name, kor, mat, eng, tot, avg, gender);

sc.close();
fw.close();
```

`PrintWriter`ëŠ” ìš°ë¦¬ê°€ ìì£¼ì“°ëŠ” `System.out.println()` ëª…ë ¹ì–´ì—ì„œ `out`ì— í•´ë‹¹í•˜ëŠ” ê°ì²´ì´ë‹¤  
ì¶œë ¥ ìœ„ì¹˜ê°€ ì½˜ì†”ì—ì„œ íŒŒì¼ë¡œ ë³€ê²½ë˜ì—ˆë‹¤ `FileWriter`ì˜ `fw.write(String.format(...))` ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•´ë„ ë˜‘ê°™ë‹¤.  

ìœ„ì²˜ëŸ¼ ì €ì¥í•œí›„ ë‹¤ì‹œ `name, kor, avg, gender` ë“±ì˜ ë³€ìˆ˜ì— ì €ì¥í•œê°’ì„ `FileReader`ë¥¼ í†µí•´ ì½ì–´ì™€ ë³´ì.  
ë¬¸ìì—´ë¡œ ì €ì¥í–ˆê¸° ë•Œë¬¸ì— íŒŒì‹±í•˜ëŠ” ê³¼ì •ì—ì„œ ì •ê·œí‘œí˜„ì‹ìœ¼ë¡œ í‹€ì„ ì§€ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.   

#### ë³´ì¡°ìŠ¤íŠ¸ë¦¼ - DataInputStream, DataOutputStream

`ë°ì´í„° -> ë¬¸ìì—´ -> ë°ì´í„°` ë³€ê²½í•˜ëŠ” ê³¼ì •ì—ì„œ íŒŒì‹±ì´ í•„ìš”í•œë°  
`DataInputStream, DataOutputStream` ì„ ì‚¬ìš©í•˜ë©´ `ë°ì´í„° -> ë°ì´í„°` í˜•ì‹ìœ¼ë¡œ íŒŒì¼ ì…ì¶œë ¥ì´ ê°€ëŠ¥í•˜ë‹¤.  
 
```java
// ì“°ê¸°
String name = "ìµœê¸¸ë™";
int kor = 80, eng = 79, mat = 97, tot = kor + eng + mat;
double avg = tot / 3.;
String gender = "ë‚¨ì";
String fileName = "./student.txt";
FileOutputStream fos = new FileOutputStream(fileName, true);
DataOutputStream dos = new DataOutputStream(fos);

dos.writeUTF(name);
dos.writeInt(kor);
dos.writeInt(eng);
dos.writeInt(mat);
dos.writeInt(tot);
dos.writeDouble(avg);
dos.writeBoolean(gender.equals("ë‚¨ì") ? true : false);
dos.close();
fos.close();

// ì½ê¸°
FileInputStream fis = new FileInputStream(fileName);
DataInputStream dis = new DataInputStream(fis);

String dis_name = dis.readUTF();
int dis_kor = dis.readInt();
int dis_eng = dis.readInt();
int dis_mat = dis.readInt();
int dis_tot = dis.readInt();
double dis_avg = dis.readDouble();
boolean dis_gen = dis.readBoolean();
System.out.printf("%s,%d,%d,%d,%d,%.2f,%s\n",
        dis_name, dis_kor, dis_mat, dis_eng, dis_tot, dis_avg, dis_gen?"ë‚¨ì":"ì—¬ì");
// ìµœê¸¸ë™,80,97,79,256,85.33,ë‚¨ì
dis.close();
fis.close();
```

ìë£Œí˜•ì— ë”°ë¼ `write`í•˜ëŠ” í•¨ìˆ˜ëª…ì´ ë‹¤ë¥´ì§€ë§Œ ìœ„ì˜ ë‹¨ìˆœ `FileWriter, FileReader` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¨ í¸í•˜ë‹¤.  


#### ë³´ì¡°ìŠ¤íŠ¸ë¦¼ - ObjectInputStream, ObjectOutputStream

`DataInputStream, DataOutputStream` ì´ ê¸°ë³¸ ë°ì´í„°í˜•ì„ ì½ê³  ì“°ëŠ” ë³´ì¡°ìŠ¤íŠ¸ë¦¼ì´ë¼ë©´  
`ObjectInputStream, ObjectOutputStream` ì€ **ê°ì²´ë¥¼ ë°ì´í„°í™”(ì§ë ¬í™”)** ì‹œì¼œì„œ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì €ì¥, ì½ì–´ì˜¬ë•Œ ì‚¬ìš©í•˜ëŠ” ë³´ì¡°í´ë˜ìŠ¤ì´ë‹¤.  

`Student`í´ë˜ìŠ¤ ê°ì²´ë¥¼ ë§Œë“¤ê³  ì§ë ¬í™”, íŒŒì¼ ì…ì¶œë ¥ì´ ê°€ëŠ¥í•œì§€ í…ŒìŠ¤íŠ¸  
ì´ ê°ì²´ë¥¼ `student.dat`ì— ì €ì¥í•´ë³´ì.  

```java
@Getter
@Setter
@AllArgsConstructor
public class Student {
    String name;
    int kor;
    int eng;
    int mat;
    int tot;
    double avg;
    boolean gen;
}

Student student = new Student("í™ê¸¸ë™", 98, 78, 100, 286, 286 / 3.0, true);
FileOutputStream out = new FileOutputStream("./Student.dat");
ObjectOutputStream oos = new ObjectOutputStream(out);
oos.writeObject(student);
```

ì§ë ¬í™” ì‹œí‚¤ê¸° ë•Œë¬¸ì— ë‹¹ì—°íˆ ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•œë‹¤.  
`ObjectOutputStream` ë³´ì¡°ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•´ì„œ `writeObject()` ë©”ì„œë“œë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì €ì¥.  
ì‹¤ì œ datíŒŒì¼ì„ ë©”ëª¨ì¥ìœ¼ë¡œ ì—´ë©´   

```
Ñ‹ sr days28.Studentë¾?d? D avgI engZ genderI korI matI totL namet 
Ljava/lang/String;xp@W?UUUU   N   b   d  t 	?ë»ë§Œ??
```

ì´ëŸ°ì‹ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆë‹¤.  

ì§ë ¬í™” ê°€ëŠ¥í•œ í´ë˜ìŠ¤ë¡œ ë§Œë“œë ¤ë©´ `implements Serializable` êµ¬í˜„ì´ í•„ìˆ˜ ì˜¤ë²„ë¼ì´ë”©í•´ì•¼í•˜ëŠ” ë©”ì„œë“œëŠ” ì—†ì§€ë§Œ `writeObject` ì—ì„œ `Serializable` êµ¬í˜„í•œ ê°ì²´ë§Œ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ”ë‹¤.  

#### ë³´ì¡°ìŠ¤íŠ¸ë¦¼ - BufferedReader, BufferedInputStream  

ì´ë¦„ì²˜ëŸ¼ ë³„ë„ì˜ ë©”ëª¨ë¦¬ê³µê°„ `Buffered`ì— ì½ì€ ë°ì´í„°ë¥¼ ì¼ì • ìˆ˜ì¤€ê¹Œì§€ ë³´ê´€í•œë‹¤.  

```java
public static void fileCopy_byte(String original, String copy)
{
	try(FileInputStream fis = new FileInputStream(original);
			FileOutputStream fos = new FileOutputStream(copy);)
	{
		int b = 0;
		while ((b=fis.read())!=-1) 
		{
			fos.write(b);
		}
		fos.flush();
		
	} catch (FileNotFoundException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	} catch (IOException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}
}
```

ë²„í¼ ì—†ì´ í•œê¸€ì ì½ì–´ íŒŒì¼ì— ì €ì¥í•˜ê¸° ë•Œë¬¸ì— `copy`íŒŒì¼ì—ë„ í•œê¸€ìì”© ì €ì¥ëœë‹¤.  
íŒŒì¼ì— ì‹¤ì œ ì…ì¶œë ¥ì´ ê³„ì† ë°˜ë³µë˜ê¸° ë•Œë¬¸ì— ë¹„íš¨ìœ¨ ì ì´ë‹¤.  

íš¨ìœ¨ì„ ìœ„í•´ì„œ ë²„í¼ë¥¼ ì‚¬ìš©í•œ `BufferedInputStream, BufferedOutputStream`ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.  

```java
public static void fileCopy_byte_buffer(String original, String copy) //25830900
{
	final int BUFFER_SIZE = 1024;
	byte[] buffer = new byte[BUFFER_SIZE];
	try(	FileInputStream fis = new FileInputStream(original);
			FileOutputStream fos = new FileOutputStream(copy);
			BufferedInputStream bis = new BufferedInputStream(fis, BUFFER_SIZE);
			BufferedOutputStream bos = new BufferedOutputStream(fos, BUFFER_SIZE);)
	{
		int n = 0;
		while((n=bis.read(buffer))!=-1)
		{
			bos.write(buffer, 0, n); //auto flush
		}
		bos.flush();
	}
	catch (FileNotFoundException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	} 
	catch (IOException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}
}
```
`BufferedOutputStream` ì—ì„œ íŒŒì¼ì¶œë ¥ì€ `write` í•œë‹¤ê³  ë°”ë¡œ íŒŒì¼ì— ì¶œë ¥ë˜ì§€ ì•Šê³  ì…ë ¥ëœ ë°ì´í„° í¬ê¸°ê°€ ê¸°ì¡´ ê°€ì§€ê³  ìˆëŠ” ë²„í¼ë³´ë‹¤ í¬ê±°ë‚˜, ìŒ“ì¸ ë°ì´í„° + ì…ë ¥ ë°ì´í„°ê°€ ë²„í¼ë³´ë‹¤ í¬ê²Œ ë  ê²½ìš° ì¶œë ¥ëœë‹¤(`auto flush`).  

í˜¹ì€ `flush` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ `close` í•˜ê¸° ì§ì „ì—ë„ ì¶œë ¥ì´ ì´ë£¨ì–´ì§„ë‹¤.


#### ë³´ì¡°ìŠ¤íŠ¸ë¦¼ - RandomAccessFile

í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë¡œ ì…ì¶œë ¥ ëª¨ë‘ ê°€ëŠ¥í•œ ì…ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ í´ë˜ìŠ¤.  
`DataInputStream` ì²˜ëŸ¼ ìë£Œí˜•ì— ë°”ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.  

ì´ë¦„ì²˜ëŸ¼ íŒŒì¼ì„ ìˆœì°¨ì ìœ¼ë¡œ ì½ì–´ì˜¤ê±°ë‚˜ ìˆœì°¨ì ìœ¼ë¡œ ì“°ëŠ”ê²Œ ì•„ë‹Œ
íŠ¹ì • ìœ„ì¹˜ì—ì„œ ë°”ë¡œ ì½ê¸°, ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤.  

ê¸°ë³¸ì ìœ¼ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¼ì— ë°˜í•´ `RandomAccessFile`ì€ ì•„ë¬´ ê³³ì´ë‚˜ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤  

íŒŒì¼ ì‹œì‘ì—ì„œ 8byte ë§ˆë‹¤ ì˜ì–´ì ìˆ˜ê°€ ì…ë ¥ë¨ì„ ì•Œê³  ìˆë‹¤ë©´ ì˜ì–´ ì ìˆ˜ ìˆ˜ì •ì‹œ ëª¨ë“  ë°ì´í„°ë¥¼ ì ‘ê·¼í•  í•„ìš” ì—†ì´ í•´ë‹¹ë¶€ë¶„ë§Œ ì½ì–´ì˜¤ê±°ë‚˜ ë®ì–´ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤.  

ìƒì„±ìì— íŒŒì¼ëª…ê³¼ ì½ê¸°, ì“°ê¸°, ì‹¤í–‰ `mode`ë¥¼ ì£¼ì–´ì•¼ í•œë‹¤. (`rwx`)

```java
String s = "I Love normal Java";
try (RandomAccessFile raf = new RandomAccessFile("./random.txt", "rw")) {
    raf.writeBytes(s);
} catch (Exception e) {
    e.printStackTrace();
}
```

ì‹¤í–‰ì‹œ `random.txt` íŒŒì¼ì´ ë§Œë“¤ì–´ì§€ê³  ì•ˆì— `I Love normal Java` ë¬¸ìì—´ì´ ì“°ì—¬ì§„ë‹¤.

```java
String q = "javabook";
try (RandomAccessFile raf = new RandomAccessFile("./random.txt", "rw")) {
    raf.seek(7);
    raf.writeBytes(q);
} catch (Exception e) {
    e.printStackTrace();
}
```

`seek()` ë©”ì„œë“œë¥¼ í†µí•´ íŒŒì¼í¬ì¸í„° ë¥¼ 7ë²ˆì§¸ byteë¡œ ì´ë™í•˜ê³   
`I Love normal Java -> I Love javabookava` ë¡œ ë’· ë¶€ë¶„ì´ ìƒˆë¡œìš´ ë¬¸ìì—´ë¡œ ë®ì–´ ì”Œì–´ì§„ë‹¤.  

```java
try (RandomAccessFile raf = new RandomAccessFile("./random.txt", "rw")) {
    raf.seek(2);
    String line = raf.readLine();
    System.out.println(line);
} catch (Exception e) {
    e.printStackTrace();
}
```

2ë²ˆì§¸ byteë¡œ ì´ë™. ë’¤ì˜ ë¬¸ìì—´ì„ ì½ì–´ ì¶œë ¥í•˜ë©´ `"I "` ê°€ ë¹ ì§„ `"Love javabookava"` ì´ ì¶œë ¥ëœë‹¤.  
ë³´í†µ `DataInputStream`, `DataOutputStream`ê³¼ ê°™ì´ ì“°ì´ëŠ” ê²½ìš°ê°€ ë§ë‹¤.  

#### ë³´ì¡°ìŠ¤íŠ¸ë¦¼ - InputStreamReader

ë°”ì´íŠ¸ì—ì„œ ë¬¸ì ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ë³´ì¡° ìŠ¤íŠ¸ë¦¼

```java
InputStream is = System.in;
int one = is.read();
```

ëŒ€ë¶€ë¶„ì˜ `InputStream` ë¥¼ êµ¬í˜„í•˜ëŠ” `read` ë©”ì„œë“œëŠ” `1byte`ë¥¼ ì½ì–´ì™€ 10ì§„ìˆ˜ë¡œ ë°˜í™˜í•œë‹¤(0 ~ 255).  

`UTF-8` ì¸ì½”ë”©ì„ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì—ì„œ í‚¤ë³´ë“œë¡œ í•œê¸€ì„ ì…ë ¥í•˜ë©´ í•œ ê¸€ìê°€ `3byte`ì´ê¸° ë•Œë¬¸ì— `read`ë¡œ ì½ì–´ì˜¤ë©´ ì•ì˜ `1byte`ë§Œ ì˜ë¼ì˜¤ê¸° ë•Œë¬¸ì— ì•Œì•„ë³¼ ìˆ˜ ì—†ë‹¤.  

ì´ë¥¼ ì˜¨ì „íˆ ë¬¸ìë‹¨ìœ„ë¡œ ì½ì–´ì™€ì„œ ìë°”ì—ì„œ ì‚¬ìš©í•˜ëŠ” `UTF-16` ì¸ì½”ë”©ìœ¼ë¡œ ë°”ê¾¸ê¸° ìœ„í•´ì„ 
`InputStreamReader` ë¼ëŠ” **ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ë¬¸ììŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜**í•´ì£¼ëŠ” ë³´ì¡°ìŠ¤íŠ¸ë¦¼ì´ í•„ìš”í•˜ë‹¤.  

```java
char[] buffer = new char[BUFFER_SIZE];
InputStreamReader isr = new InputStreamReader(is);
int n = isr.read(buffer);
```
`InputStreamReader` ë‚´ë¶€ì—ì„œ `StreamDecoder`ì˜ `read()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ í‚¤ë³´ë“œì— ì¹œ ë¬¸ìë“¤ì„ ì½ëŠ”ë‹¤.  
`3byte` ë¬¸ìë¥¼ ìë™ìœ¼ë¡œ `2byte`ë¡œ ë³€í™˜í•´ì„œ `read()`í•˜ê³  `buffer`ì— ì €ì¥í•˜ëŠ” ë°©ì‹ì´ë‹¤.  

ìš°ë¦¬ê°€ ì˜ˆì „ì— ì‚¬ìš©í–ˆë˜ `BufferedReader` ë¡œ í‚¤ë³´ë“œì…ë ¥ì„ ë°›ëŠ”ê²ƒë„ `InputStreamReader` ë³´ì¡°í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ë°›ì•„ì˜¨ë‹¤.  

`BufferedReader br = new BufferedReader(new InputStreamReader(System.in));`  

`InputStream`ì„ ë³´ì¡°ìŠ¤íŠ¸ë¦¼ì¸ `InputStreamReader` ë¡œ ë°›ì•„ì„œ ë¬¸ìí˜•íƒœë¡œ ë°›ì„ìˆ˜ ìˆë„ë¡ í•˜ê³   
`Buffer`ê°€ ìˆëŠ” ë³´ì¡°ìŠ¤íŠ¸ë¦¼ì¸ `BufferedReader` ë¡œ ë°›ì•„ì„œ ë¬¸ìì—´í˜•íƒœë¡œ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•˜ì—¬ ì…ë ¥ì´ ë¹¨ë¼ì§„ë‹¤.  

ì•„ë˜ ë§í¬ì—ì„œ ì‚¬ìš©ì˜ˆì œ í™•ì¸

### File ê°ì²´

íŒŒì¼ì˜ ì •ë³´ë¥¼ ê°–ê³ ìˆëŠ” Fileí´ë˜ìŠ¤  
í¬ê¸°, ì†ì„±, ì´ë¦„, ë“±ì˜ ì •ë³´ë¥¼ ë©”ìŠ¤ëŒ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ.  
íŒŒì¼ê°ì²´ë¥¼ í†µí•´ ë””ë ‰í† ë¦¬ ìƒì„±, ì‚­ì œ, ë“±ë“±ë„ ê°€ëŠ¥í•˜ë‹¤.  
ê°ì²´ ìƒì„±ì€ ë³´í†µ íŒŒì¼ ì´ë¦„ì„ ë¬¸ìì—´ë¡œ ì „ë‹¬í•´ì„œ ìƒì„±í•œë‹¤.  


#### File - separator, separatorChar

OS ë§ˆë‹¤ ì‚¬ìš©í•˜ëŠ” ì´ë¦„ êµ¬ë¶„ìê°€ ë‹¤ë¥´ë‹¤. ìœˆë„ìš°ëŠ” `\` ë¦¬ëˆ…ìŠ¤ëŠ” `/`
`separator, separatorChar` static ë©”ì„œë“œë¥¼ í†µí•´ êµ¬ë¶„ìë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.


#### File - isFile, isDirectory, canExecute, canRead, canWrite, length, lastModified 

ìƒì„±ëœ `File` ê°ì²´ê°€ ë””ë ‰í† ë¦¬ì¸ì§€ íŒŒì¼ì¸ì§€ `boolean` ìœ¼ë¡œ ë°˜í™˜

```java
File f1 = new File("C:\\Users\\kgy19\\Desktop\\write_copy.exe"); //file
File f2 = new File("C:\\Users\\kgy19\\Desktop"); //directory
System.out.println(f1.isFile()); // true
System.out.println(f2.isDirectory()); // true
```

```java
File f1 = new File("C:\\Users\\kgy19\\Desktop\\write_copy.exe");
File f2 = new File("C:\\Users\\kgy19\\Desktop");

System.out.println(f1.canExecute()); // true
System.out.println(f2.canExecute()); // true ë””ë ‰í† ë¦¬ë„ ì‹¤í–‰íŒŒì¼ì´ë¼ê³  ì·¨ê¸‰í•˜ëŠ”ë“¯

System.out.println(f1.canRead()); // true
System.out.println(f1.canWrite()); // true
// íŒŒì¼ ì†ì„±íƒ­ì—ì„œ ê¸ˆì§€í•˜ì§€ ì•ŠëŠ”í•œ true
```

```java
Date date = new Date(f1.lastModified());
System.out.println(f1.length()); // 11264 byte ë‹¨ìœ„
System.out.println(f1.lastModified()); // 1536996564705
System.out.println(date.toLocaleString()); // 2018. 9. 15 ì˜¤í›„ 4:29:24
```


#### File - getName, getParent, getPath, getCanonicalPath, getAbsolutePath

íŒŒì¼ëª… ì–»ì–´ì˜¤ê¸°, ì†Œì† ë””ë ‰í„°ë¦¬ëª… ì–»ì–´ì˜¤ê¸°

```java
File f1 = new File("C:\\Users\\kgy19\\Desktop\\write_copy.exe");
File f2 = new File("C:\\Users\\kgy19\\Desktop");

System.out.println(f1.getName()); // write_copy.exe
System.out.println(f2.getName()); // Desktop
System.out.println(f1.getParent()); // C:\Users\user\Desktop
System.out.println(f2.getParent()); // C:\Users\user
```

ë‹¨ `File` ê°ì²´ë¥¼ ì²˜ìŒì— ìƒëŒ€ê²½ë¡œë¡œ ì§€ì •ì‹œ `getParent` ì—ì„œ **ìƒëŒ€ê²½ë¡œë¥¼ ì¶œë ¥**í•œë‹¤.  

```java
File f1 = new File(".\\src\\write.exe");
System.out.println(f1.getName()); // write.exe
System.out.println(f1.getParent()); // .\src
```

`File f3 = f1.getParentFile();` í˜„ì¬ ë””ë ‰í† ë¦¬ë¥¼ `File` ê°ì²´ë¡œ ë°›ì„ ìˆ˜ ë„ ìˆë‹¤.

```java
File f1 = new File("/Users/user/Documents/java/nio-socket/uml.png"); //file
File f2 = new File("./uml.png"); //ìƒëŒ€ê²½ë¡œ í‘œì‹œ
System.out.println(f1.getPath()); // /Users/user/Documents/java/nio-socket/uml.png
System.out.println(f2.getPath()); // ./uml.png
System.out.println(f1.getAbsolutePath()); // /Users/user/Documents/java/nio-socket/uml.png
System.out.println(f2.getAbsolutePath()); // /Users/user/Documents/java/nio-socket/./uml.png
System.out.println(f1.getCanonicalPath()); // /Users/user/Documents/java/nio-socket/uml.png
System.out.println(f2.getCanonicalPath()); // /Users/user/Documents/java/nio-socket/uml.png
```

`f1` ì˜ ê²½ìš° ì–´ë–¤ê°’ì„ ì“°ë˜ ì¼ì •í•˜ê²Œ ì ˆëŒ€ê²½ë¡œê°€ ì¶œë ¥ëœë‹¤.  
`f2` ì˜ ê²½ìš° ìƒëŒ€ê²½ë¡œë¡œ `File` ê°ì²´ë¥¼ ìƒì„±í–ˆëŠ”ë° `getCanonicalPath`ë¥¼ ì‚¬ìš©í•´ì•¼ ì ˆëŒ€ê²½ë¡œê°€ ì¶œë ¥ëœë‹¤.  

```java
String pathname = "C:\\Class\\JavaClass\\javaPro";
File file = new File(pathname); 

// í´ë” ì•ˆì— ìˆëŠ” ì„œë¸Œí´ë”+íŒŒì¼
String [] fileList = file.list();
for (int i = 0; i < fileList.length; i++) {
	//System.out.println( fileList[i]);
	File f = new File(fileList[i]);
	if( f.isDirectory()) {
		System.out.print("[í´ë”]");
	}else {
		System.out.print("[íŒŒì¼]");
	}
	
	System.out.printf(" %s  \t%s\t%d bytes\n"
			,  new Date( f.lastModified() ).toLocaleString()
			, f.getName(), f.length() );
}
```

ì¶œë ¥ê°’
```
[íŒŒì¼] 2018. 12. 24 ì˜¤í›„ 11:46:51  	.classpath	232 bytes
[í´ë”] 2019. 2. 12 ì˜¤ì „ 2:05:51  	.git	4096 bytes
[íŒŒì¼] 2018. 12. 24 ì˜¤í›„ 11:46:51  	.gitignore	6 bytes
[íŒŒì¼] 2019. 1. 2 ì˜¤ì „ 11:49:49  	.project	645 bytes
[í´ë”] 2018. 12. 28 ì˜¤í›„ 2:58:48  	.settings	0 bytes
[í´ë”] 2019. 2. 12 ì˜¤ì „ 1:10:37  	bin	4096 bytes
[íŒŒì¼] 2019. 2. 7 ì˜¤í›„ 2:20:17  	fos_save.dat	14 bytes
[íŒŒì¼] 2019. 2. 7 ì˜¤í›„ 4:11:58  	msg.ini	108 bytes
[íŒŒì¼] 2019. 2. 7 ì˜¤í›„ 12:25:01  	score2.dat	80 bytes
[í´ë”] 2019. 2. 11 ì˜¤í›„ 2:01:21  	src	4096 bytes
[íŒŒì¼] 2019. 1. 4 ì˜¤ì „ 10:22:09  	ë‹¨ì¶•í‚¤ ëª¨ìŒ	7693 bytes
[íŒŒì¼] 2019. 2. 1 ì˜¤ì „ 9:36:29  	ìë°”IO.PNG	39375 bytes
```

#### File - exists, mkdirs 

`exist`ëŠ” íŒŒì¼ì´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ `true`, `false`ë¡œ ë°˜í™˜.  

`mkdirs`ëŠ” ìƒìœ„ë””ë ‰í† ë¦¬ê¹Œì§€ ëª¨ë‘ ìƒì„±.  

ë°”íƒ•í™”ë©´ testí´ë” ì•ˆì— 20190212(í™”) í˜•ì‹ìœ¼ë¡œ í´ë”ë¥¼ ë‹¤ì‹œ ë§Œë“¤ì–´ë³´ì.  
ë‚ ì§œë¥¼ ìœ„í•´ LocalDateë¥¼ ì‚¬ìš©, ë‚ ì§œ ì¶œë · í¬ë©§ì„ ìœ„í•´ DateTimeFormatterì‚¬ìš©,  
Fileì˜ ìƒì„±ìì— ì €ì¥ë  í´ë” ì ˆëŒ€ê²½ë¡œì™€ ì €ì¥í•  íŒŒì¼(í´ë”)ëª…ì„
parentì™€ childë¡œ ì „ë‹¬.  

```java
LocalDate today = LocalDate.now();
LocalDate dt = LocalDate.now();
String pattern = "yyyyMMdd(E)";
DateTimeFormatter df = DateTimeFormatter.ofPattern(pattern);
System.out.println(dt.format(df)); 20190212(í™”)
String parent = "C:\\Users\\user\\Desktop\\test";
String child = dt.format(df);
File file = new File(parent, child );
if(file.exists())
{
	if(file.delete())
		System.out.println("í´ë”ì‚­ì œ...");
	else
		System.out.println("ì‚­ì œ ì‹¤íŒ¨...");
}
if(file.mkdirs())
{
	System.out.println("ì„±ê³µ");
}
```

ì¶œë ¥ê°’

```
20190212(í™”)
í´ë”ì‚­ì œ...
ì„±ê³µ
```

ê¸°ì¡´ì— í´ë”ê°€ ì¡´ì¬í–ˆë‹¤ë©´ í´ë”ë¥¼ ì‚­ì œí•˜ê³  ë‹¤ì‹œ ë§Œë“ ë‹¤.  

#### ìì‹ í´ë”, íŒŒì¼ ëª¨ë‘ ì¶œë ¥í•˜ê¸°

ì¬ê·€í•¨ìˆ˜ë¥¼ ì‚¬ìš©, ë””ë ‰í† ë¦¬ë©´ ë°˜ë³µ, íŒŒì¼ì´ë©´ ì¶œë ¥í•˜ê³  ë°˜í™˜í•˜ì—¬ íŒŒì¼ ë””ë ‰í† ë¦¬ ëª©ë¡ì„ ì¶œë ¥  

```java
public static void main(String[] arg) {
    String pathname = "C:\\Users\\kgy19\\Desktop";
    File file = new File(pathname);
    findInDiectory(file, 0);
}

private static void findInDiectory(File file, int gap) {
    File[] fileList = file.listFiles();
    SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mma");

    for (int i = 0; i < fileList.length; i++) {
        File f = fileList[i];
        if( f.isDirectory()) {
            for (int j = 0; j < gap; j++) {
                System.out.print(" ");
            }
            System.out.printf("%s %3s %6s %s\n", sdf.format(new Date(f.lastModified())),
                    "DIR", f.length()+"byte", f.getName());
            findInDiectory(f, gap+2);
        }else {
            for (int j = 0; j < gap; j++) {
                System.out.print(" ");
            }
            System.out.printf("%s %3s %6s %s\n", sdf.format(new Date(f.lastModified())),
                    "FILE", f.length()+"byte", f.getName());
        }
    }
}
```

ì¶œë ¥ê°’
```
2018-12-16 15:53ì˜¤í›„ FILE 436byte desktop.ini
2019-01-13 18:17ì˜¤í›„ FILE 597byte eclipse.exe - ë°”ë¡œ ê°€ê¸°.lnk
2019-02-07 15:30ì˜¤í›„ DIR 4096byte sysinternals
  2019-01-17 03:09ì˜¤ì „ FILE 3172062byte HxDSetup.exe
  2018-12-18 23:13ì˜¤í›„ DIR  0byte ProcessExplorer
    2018-07-19 06:57ì˜¤ì „ FILE 7490byte Eula.txt
    2018-11-17 08:22ì˜¤ì „ FILE 72154byte procexp.chm
    2018-11-17 08:22ì˜¤ì „ FILE 2703128byte procexp.exe
    2018-11-17 08:22ì˜¤ì „ FILE 1449008byte procexp64.exe
  2018-12-18 23:12ì˜¤í›„ DIR  0byte ProcessMonitor
    2017-11-16 11:34ì˜¤ì „ FILE 7490byte Eula.txt
    2018-02-12 15:22ì˜¤í›„ FILE 63582byte procmon.chm
    2018-02-12 15:30ì˜¤í›„ FILE 2164360byte Procmon.exe
  2019-02-12 20:55ì˜¤í›„ DIR  0byte VMMap
    2018-07-19 06:57ì˜¤ì „ FILE 7490byte Eula.txt
    2018-11-08 05:08ì˜¤ì „ FILE 51747byte Vmmap.chm
    2018-11-08 05:08ì˜¤ì „ FILE 1270504byte vmmap.exe
2019-02-12 20:19ì˜¤í›„ DIR  0byte test
  2019-02-12 20:19ì˜¤í›„ DIR  0byte 20190212(í™”)
2018-12-04 11:17ì˜¤ì „ FILE 1499byte Visual Studio 2017.lnk
2019-02-07 09:50ì˜¤ì „ FILE 1178byte Visual Studio Code.lnk
2018-09-15 16:29ì˜¤í›„ FILE 11264byte write_copy.exe
2019-02-01 16:23ì˜¤í›„ FILE 13764byte ì·¨ì—…ë¬¸ì œ.txt
2019-02-11 12:19ì˜¤í›„ FILE  0byte ì·¨ì—…ë¬¸ì œ_copy.txt
```

### io.socket

ì‘ì„± ì˜ˆì •...