---
title:  "Java - WEB 1일차!"

read_time: false
share: false
author_profile: false
classes: wide

categories:
  - jdbc

tags:
  - database
  - java

toc: true

---

## Apache Tomcat 개요

**웹서버**는 클라이언트의 요청을 기다리고,  

요청이 온다면 응답을 Data로(html, js, image 등)을 클라인언트에게 보낸다.  
클라이언트는 응답받은 데이터를 Chrome같은 웹브라우저에 출력한다.

하지만 클라이언트는 항상 똑같은 요청을 하지 않고 웹서버도 항상 똑같은 응답을 하지 않는다.
클라이언트별로 각각 다른 데이터를 보내면 서버는 각각 다른 데이터에 대한 다양한 Data로 응답을 한다. 다양한 Data를 만들어 응답하는 서버를 **WAS**라한다.

**WAS**는 `Web Application Server`의 약자로 `Web Server`기능과 `Web Container` 기능이 합쳐진 서버이다.  

![image1-1]({{ "/assets/web/days01/image1-1.png" | absolute_url }}){: .shadow}  

<br>
**웹서버**: 클라이언트에 대한 응답 Data(html, js, image) 를 보내는 서버

**WAS**: 동적인 데이터를 만들어 클라이언트에 응답하는 서버

**Apache Tomcat은 WAS역할을 하는 플러그인이다.(서버 역할을 할수있게 해주는 소프트웨어)**

> 출처: https://gap85.tistory.com/45

WAS하나만으로 WEB서버역할을 할수 도 있지만 성능향상을 위해 웹서버만큼은 따로 두는 경우도 있다.  


## Apache Tomcat설치, 이클립스 연동

> Apache Tomcat 설치주소: https://tomcat.apache.org/download-80.cgi  

`8.5.39 ver 64bit Windows` 버전으로 설치...

`CATLINA_PATH` 환경변수를 만들고  
![image1]({{ "/assets/web/days01/image1.png" | absolute_url }}){: .shadow}  

<br>

PATH에가서 bin 위치정보를 다음과 같이 설정.  
![image2]({{ "/assets/web/days01/image2.png" | absolute_url }}){: .shadow}   

<br>


웹서버 프로그래밍을 위해 오라클에서 `Dynamic WebProject` 생성  

![image3]({{ "/assets/web/days01/image3.png" | absolute_url }}){: .shadow}  

<br>

`Target runtime` 코드를 실행시킬 웹서버를 설정, 다운받은 아파치 톰켓 플러그인 버전에 맞춰 설정할것.  

![image4]({{ "/assets/web/days01/image4.png" | absolute_url }}){: .shadow}  

![image5]({{ "/assets/web/days01/image5.png" | absolute_url }}){: .shadow}  

![image6]({{ "/assets/web/days01/image6.png" | absolute_url }}){: .shadow}  

<br>

컴파일된 `.class`파일은 build의 classes에 저장된다.  

![image7]({{ "/assets/web/days01/image7.png" | absolute_url }}){: .shadow}  

<br>

Generate web.xml deployment descripter(배포서술) 체크   
![image8]({{ "/assets/web/days01/image8.png" | absolute_url }}){: .shadow}  

Context root는 client 입장에서 url호스트명, 포트명 뒤에 나오는 문자열, url상에서 루트디렉토리라 할 수 있다.  

Content directory는 우리가 실제 html, jsp 파일을 만들때 사용되는 공간.  

<br>

체크하면 `Deployment Descriptor` 라는 `web.xml` 파일이 생긴다.
DD안에서  웹서버 환경설정을 할 수 있다.  
![image9]({{ "/assets/web/days01/image9.png" | absolute_url }}){: .shadow}  

<br>

원활한 웹 프로그래밍을 위해 모든 인코딩을 UTF-8로 통일해주자.  
workspace뿐 아니라 html, jsp, java 모두 UTF-8로 설정한다.  
![image10]({{ "/assets/web/days01/image10.png" | absolute_url }}){: .shadow}  

이제 테스트를 위해 `WebContent`에서 html파일 생성  
l
![image11]({{ "/assets/web/days01/image11.png" | absolute_url }}){: .shadow}  

![image12]({{ "/assets/web/days01/image12.png" | absolute_url }}){: .shadow}  

NewFile.html 만들고 간단히 html을 제작  

```html
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	홍길동 사이트
</body>
</html>
```
`<!DOCTYPE html>` HTML5로 작성되었음을 알림.  
`<meta charset="UTF-8">` 브라우저에게 문서가 UTF-8로 만들어져있기 때문에 UTF-8로 읽으라는 의미.  

> 웹 프로그래밍에서 컴파일은 아래 사진과 같이 진행  
![image13]({{ "/assets/web/days01/image13.png" | absolute_url }}){: .shadow}  

![image14]({{ "/assets/web/days01/image14.png" | absolute_url }}){: .shadow}  

위과정이 `Tomcat v8.5 Server at localhost [started, Synchronized]`
문구로 변경되며 서버가 실행중임을 알 수 있다.  
![image18]({{ "/assets/web/days01/image18.png" | absolute_url }}){: .shadow}  

항상 접속할수 없습니다, 혹은 거부 메세지가 발생하면 Server가 시작됬는지 확인해보자.  

<br>

컴파일이 끝나면 `Servers`라는 폴더가 생기면서  

![image15]({{ "/assets/web/days01/image15.png" | absolute_url }}){: .shadow}  

<br>

에러가 뜬다...

![image16]({{ "/assets/web/days01/image16.png" | absolute_url }}){: .shadow}  

에러뜨는 `8080포트`와 오라클 포트가 겹처서 그런다.  

생긴 Servers폴더에서 `server.xml`안의 8080포트를 80으로 변경  

![image17]({{ "/assets/web/days01/image17.png" | absolute_url }}){: .shadow}  

![image18]({{ "/assets/web/days01/image18.png" | absolute_url }}){: .shadow}  

> 이클립스에서 xml파일을 text로 열고싶다면 source선택...
